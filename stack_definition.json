{
  "inputs": [
    {
      "name": "prefix",
      "required": true,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "region",
      "required": true,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "existing_resource_group_name",
      "required": true,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "enable_platform_metrics",
      "required": false,
      "type": "boolean",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "logs_routing_tenant_regions",
      "required": false,
      "type": "array",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "existing_kms_instance_crn",
      "required": false,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "event_notifications_email_list",
      "required": false,
      "type": "array",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "existing_event_notifications_instance_crn",
      "required": false,
      "type": "string",
      "custom_config": {}
    },
    {
      "name": "existing_secrets_manager_crn",
      "required": false,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "secrets_manager_service_plan",
      "required": false,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "secrets_manager_secret_groups",
      "required": false,
      "type": "array",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "app_config_plan",
      "required": false,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "key_protect_plan",
      "required": false,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "cloud_monitoring_plan",
      "required": false,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "skip_secrets_manager_iam_auth_policy",
      "required": false,
      "type": "boolean",
      "hidden": false
    },
    {
      "name": "scc_workload_protection_service_plan",
      "required": false,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "enterprise_id",
      "required": false,
      "type": "string",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "enterprise_account_group_ids_to_assign",
      "required": false,
      "type": "array",
      "hidden": false,
      "custom_config": {}
    },
    {
      "name": "enterprise_account_ids_to_assign",
      "required": false,
      "type": "array",
      "hidden": false,
      "custom_config": {}
    }
  ],
  "members": [
    {
      "inputs": [
        {
          "name": "existing_resource_group_name",
          "value": "ref:../../inputs/existing_resource_group_name"
        },
        {
          "name": "existing_kms_instance_crn",
          "value": "ref:../../inputs/existing_kms_instance_crn"
        },
        {
          "name": "region",
          "value": "ref:../../inputs/region"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        },
        {
          "name": "key_protect_plan",
          "value": "ref:../../inputs/key_protect_plan"
        }
      ],
      "name": "1a - Key management",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.83d1bcb6-41d9-43b8-bd0b-14aea5d0f923-global"
    },
    {
      "inputs": [
        {
          "name": "existing_resource_group_name",
          "value": "ref:../../inputs/existing_resource_group_name"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        }
      ],
      "name": "1b - Object storage",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.9510728f-c31b-425c-a94a-d1585e1f22f3-global"
    },
    {
      "inputs": [
        {
          "name": "existing_resource_group_name",
          "value": "ref:../../inputs/existing_resource_group_name"
        },
        {
          "name": "region",
          "value": "ref:../../inputs/region"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        },
        {
          "name": "enable_platform_metrics",
          "value": "ref:../../inputs/enable_platform_metrics"
        },
        {
          "name": "cloud_monitoring_plan",
          "value": "ref:../../inputs/cloud_monitoring_plan"
        }
      ],
      "name": "1c - Cloud Monitoring",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.1245fc03-8a1a-43cd-a3d1-4e517a5d006d-global"
    },
    {
      "inputs": [
        {
          "name": "existing_cos_instance_crn",
          "value": "ref:../../members/1b - Object storage/outputs/cos_instance_id"
        },
        {
          "name": "enable_collecting_failed_events",
          "value": true
        },
        {
          "name": "existing_event_notifications_instance_crn",
          "value": "ref:../../inputs/existing_event_notifications_instance_crn"
        },
        {
          "name": "kms_encryption_enabled",
          "value": true
        },
        {
          "name": "kms_endpoint_url",
          "value": "ref:../../members/1a - Key management/outputs/kms_private_endpoint"
        },
        {
          "name": "existing_kms_instance_crn",
          "value": "ref:../../members/1a - Key management/outputs/kms_instance_crn"
        },
        {
          "name": "kms_endpoint_type",
          "value": "private"
        },
        {
          "name": "existing_resource_group_name",
          "value": "ref:../../inputs/existing_resource_group_name"
        },
        {
          "name": "region",
          "value": "ref:../../inputs/region"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        },
        {
          "name": "existing_monitoring_crn",
          "value": "ref:../../members/1c - Cloud Monitoring/outputs/cloud_monitoring_crn"
        }
      ],
      "name": "2 - Event Notifications",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.c6a83431-daf8-4f8a-af81-657bcd7d859f-global"
    },
    {
      "inputs": [
        {
          "name": "existing_resource_group_name",
          "value": "ref:../../inputs/existing_resource_group_name"
        },
        {
          "name": "region",
          "value": "ref:../../inputs/region"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        },
        {
          "name": "existing_cos_instance_crn",
          "value": "ref:../../members/1b - Object storage/outputs/cos_instance_crn"
        },
        {
          "name": "existing_kms_instance_crn",
          "value": "ref:../../members/1a - Key management/outputs/kms_instance_crn"
        },
        {
          "name": "existing_monitoring_crn",
          "value": "ref:../../members/1c - Cloud Monitoring/outputs/cloud_monitoring_crn"
        },
        {
          "name": "kms_encryption_enabled_buckets",
          "value": true
        },
        {
          "name": "kms_endpoint_type",
          "value": "private"
        },
        {
          "name": "logs_routing_tenant_regions",
          "value": "ref:../../inputs/logs_routing_tenant_regions"
        },
        {
          "name": "existing_event_notifications_instances",
          "value": "ref:../../members/2 - Event Notifications/outputs/crn_list_object"
        }
      ],
      "name": "3a - Cloud Logs for logging",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.a1c8b8b0-2fda-44b5-acf9-beb70ac742b4-global"
    },
    {
      "inputs": [
        {
          "name": "existing_resource_group_name",
          "value": "ref:../../inputs/existing_resource_group_name"
        },
        {
          "name": "region",
          "value": "ref:../../inputs/region"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        },
        {
          "name": "existing_cos_instance_crn",
          "value": "ref:../../members/1b - Object storage/outputs/cos_instance_crn"
        },
        {
          "name": "kms_encryption_enabled_buckets",
          "value": true
        },
        {
          "name": "existing_kms_instance_crn",
          "value": "ref:../../members/1a - Key management/outputs/kms_instance_crn"
        },
        {
          "name": "existing_monitoring_crn",
          "value": "ref:../../members/1c - Cloud Monitoring/outputs/cloud_monitoring_crn"
        },
        {
          "name": "kms_endpoint_type",
          "value": "private"
        },
        {
          "name": "logs_routing_tenant_regions",
          "value": []
        },
        {
          "name": "cloud_logs_data_cos_bucket_name",
          "value": "at-cloud-logs-logs-bucket"
        },
        {
          "name": "cloud_logs_metrics_cos_bucket_name",
          "value": "at-cloud-logs-metrics-bucket"
        },
        {
          "name": "cloud_logs_instance_name",
          "value": "at-cloud-logs"
        },
        {
          "name": "existing_event_notifications_instances",
          "value": "ref:../../members/2 - Event Notifications/outputs/crn_list_object"
        }
      ],
      "name": "3b - Cloud Logs for activity tracking",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.a1c8b8b0-2fda-44b5-acf9-beb70ac742b4-global"
    },
    {
      "inputs": [
        {
          "name": "existing_resource_group_name",
          "value": "ref:../../inputs/existing_resource_group_name"
        },
        {
          "name": "region",
          "value": "ref:../../inputs/region"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        },
        {
          "name": "app_config_plan",
          "value": "ref:../../inputs/app_config_plan"
        },
        {
          "name": "kms_endpoint_url",
          "value": "ref:../../members/1a - Key management/outputs/kms_private_endpoint"
        },
        {
          "name": "enable_config_aggregator",
          "value": true
        },
        {
          "name": "config_aggregator_enterprise_id",
          "value": "ref:../../inputs/enterprise_id"
        },
        {
          "name": "config_aggregator_enterprise_account_group_ids_to_assign",
          "value": "ref:../../inputs/enterprise_account_group_ids_to_assign"
        },
        {
          "name": "config_aggregator_enterprise_account_ids_to_assign",
          "value": "ref:../../inputs/enterprise_account_ids_to_assign"
        },
        {
          "name": "kms_encryption_enabled",
          "value": true
        },
        {
          "name": "existing_kms_instance_crn",
          "value": "ref:../../members/1a - Key management/outputs/kms_instance_crn"
        },
        {
          "name": "enable_event_notifications",
          "value": true
        },
        {
          "name": "existing_event_notifications_instance_crn",
          "value": "ref:../../members/2 - Event Notifications/outputs/crn"
        },
        {
          "name": "event_notifications_endpoint_url",
          "value": "ref:../../members/2 - Event Notifications/outputs/event_notifications_private_endpoint"
        },
        {
          "name": "event_notifications_email_list",
          "value": "ref:../../inputs/event_notifications_email_list"
        }
      ],
      "name": "3c - App Configuration",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.6b380d3c-4259-4216-86d0-335ac5834d8a-global"
    },
    {
      "inputs": [
        {
          "name": "existing_resource_group_name",
          "value": "ref:../../inputs/existing_resource_group_name"
        },
        {
          "name": "region",
          "value": "ref:../../inputs/region"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        },
        {
          "name": "existing_kms_instance_crn",
          "value": "ref:../../members/1a - Key management/outputs/kms_instance_crn"
        },
        {
          "name": "kms_encryption_enabled",
          "value": true
        },
        {
          "name": "existing_event_notifications_instance_crn",
          "value": "ref:../../members/2 - Event Notifications/outputs/crn"
        },
        {
          "name": "existing_secrets_manager_crn",
          "value": "ref:../../inputs/existing_secrets_manager_crn"
        },
        {
          "name": "service_plan",
          "value": "ref:../../inputs/secrets_manager_service_plan"
        },
        {
          "name": "skip_secrets_manager_iam_auth_policy",
          "value": "ref:../../inputs/skip_secrets_manager_iam_auth_policy"
        },
        {
          "name": "secret_groups",
          "value": "ref:../../inputs/secrets_manager_secret_groups"
        }
      ],
      "name": "3d - Secrets Manager",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.3bfcc0f7-6134-4ad6-b123-f1271300f578-global"
    },
    {
      "inputs": [
        {
          "name": "existing_resource_group_name",
          "value": "ref:../../inputs/existing_resource_group_name"
        },
        {
          "name": "region",
          "value": "ref:../../inputs/region"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        },
        {
          "name": "scc_workload_protection_service_plan",
          "value": "ref:../../inputs/scc_workload_protection_service_plan"
        },
        {
          "name": "cspm_enabled",
          "value": true
        },
        {
          "name": "app_config_crn",
          "value": "ref:../../members/3c - App Configuration/outputs/app_config_crn"
        },
        {
          "name": "existing_monitoring_crn",
          "value": "ref:../../members/1c - Cloud Monitoring/outputs/cloud_monitoring_crn"
        }
      ],
      "name": "4a - Security and Compliance Center Workload Protection",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.57317030-f99f-4699-b685-59036bd70c5c-global"
    },
    {
      "inputs": [
        {
          "name": "region",
          "value": "ref:../../inputs/region"
        },
        {
          "name": "prefix",
          "value": "ref:../../inputs/prefix"
        },
        {
          "name": "existing_kms_instance_crn",
          "value": "ref:../../members/1a - Key management/outputs/kms_instance_crn"
        },
        {
          "name": "kms_encryption_enabled_buckets",
          "value": true
        },
        {
          "name": "kms_endpoint_type",
          "value": "private"
        },
        {
          "name": "existing_cos_instance_crn",
          "value": "ref:../../members/1b - Object storage/outputs/cos_instance_crn"
        },
        {
          "name": "existing_cloud_logs_instance_crn",
          "value": "ref:../../members/3b - Cloud Logs for activity tracking/outputs/cloud_logs_crn"
        },
        {
          "name": "enable_activity_tracker_event_routing_to_cos_bucket",
          "value": true
        }
      ],
      "name": "4b - Activity Tracker Event Routing",
      "version_locator": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3.b4eaef05-19ca-46b7-a9ef-13df45fe6e20-global"
    }
  ],
  "outputs": [
    {
      "name": "key_management_service_instance_crn",
      "value": "ref:../../members/1a - Key management/outputs/kms_instance_crn"
    },
    {
      "name": "secrets_manager_crn",
      "value": "ref:../../members/3d - Secrets Manager/outputs/secrets_manager_crn"
    },
    {
      "name": "monitoring_crn",
      "value": "ref:../../members/1c - Cloud Monitoring/outputs/cloud_monitoring_crn"
    },
    {
      "name": "cos_instance_crn",
      "value": "ref:../../members/1b - Object storage/outputs/cos_instance_id"
    },
    {
      "name": "event_notifications_crn",
      "value": "ref:../../members/2 - Event Notifications/outputs/crn"
    },
    {
      "name": "app_config_crn",
      "value": "ref:../../members/3c - App Configuration/outputs/app_config_crn"
    },
    {
      "name": "scc_workload_protection_crn",
      "value": "ref:../../members/4a - Security and Compliance Center Workload Protection/outputs/scc_workload_protection_crn"
    }
  ]
}
